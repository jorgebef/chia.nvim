---@class PaletteColors
local palette = {
	bg = "#1F1F28",
	fg = "#D4D8DA",
	blue_eye = "#8AB9C5",
	blue_muted = "#b0ced6",
	blue_shade = "#7AA9C5",
	-- green_eye = "#A4B991",
	green_eye = "#A7BA93",
	pink_bean = "#FFBEB6",
	pink_nose = "#FF9B9C",
	pink_paw = "#E28E88",
	red_lip = "#E17A7E",
	red_shade = "#BA6A6E",
	muted_bean = "#DD8D82",
	yellow_warm = "#E5C183",
	soft_fur = "#E5C8AA",
	purple_accent = "#C875A3",
	purple_muted = "#c395Ab",

	black_001 = "#03030B",
	black_002 = "#090914",
	black_003 = "#0F0F14",
	black_004 = "#15151E",
	black_005 = "#FFF",
	black_006 = "#2A2A33",
	black_007 = "#FFF",
	black_008 = "#353541",
	black_009 = "#3F3F44", -- bg_visual
	black_010 = "#60606A",
	black_011 = "#60606A",
	black_012 = "#53535D",
	black_013 = "#60606A",
	black_014 = "#60606A",
	black_015 = "#60606A",
	black_016 = "#60606A",
	black_017 = "#60606A",
	black_018 = "#60606A",
	black_019 = "#60606A",
	black_020 = "#60606A",

	white_001 = "#FAFDFF",
	white_002 = "#F0F2F4",
	white_003 = "#E9EBEE",
	white_004 = "#E3E5E8",
	white_005 = "#D8DADE",
	white_006 = "#D1D3D6",
	white_007 = "#CCCED1",
	white_008 = "#353541",
	white_009 = "#3F3F44",
	white_010 = "#60606A",
	white_011 = "#60606A",
	white_012 = "#53535D",
	white_013 = "#60606A",
	white_014 = "#60606A",
	white_015 = "#60606A",
	white_016 = "#60606A",
	white_017 = "#60606A",
	white_018 = "#60606A",
	white_019 = "#60606A",
	white_020 = "#60606A",

	-- bg = "#201F1E", --bg
	-- bg = "#2A2928", --bg

	-- Bg Shades
	["base-000"] = "#030303",
	-- ["base000"] = "#060505",
	["base-025"] = "#0A0A0A",
	["base-050"] = "#0F0F0F",
	["base-100"] = "#151515",
	["base-125"] = "#1F1F28", -- bg
	["base-150"] = "#2A2A2A",
	["base-200"] = "#353535",
	["base-250"] = "#3F3F3F",
	["base-300"] = "#494949",
	["base-350"] = "#535353",
	["base-400"] = "#5F5F5F",
	["base-450"] = "#696969",
	["base-500"] = "#747474",
	["base-550"] = "#7E7E7E",
	["base-600"] = "#878787",
	["base-650"] = "#929292",
	["base-700"] = "#9C9C9C",
	["base-750"] = "#A6A6A6",
	["base-800"] = "#B0B0B0",
	["base-850"] = "#B9B9B9",
	["base-875"] = "#C1C1C1",
	["base-900"] = "#C3C3C3",
	["base-925"] = "#C5C5C5", -- fg
	["base-950"] = "#CECECE",

	["pink-500"] = "#EDB2AD",
	["pink-800"] = "#B55F52",

	["orange-800"] = "#B56E4C",

	["blue-500"] = "#91BAD1",
	["blue-700"] = "#799AB3",

	-- ["green-500"] = "#7e8b48",
	["green-200"] = "#ACBFA5",
	["green-300"] = "#A1B98F",
	["green-500"] = "#8FA576",

	["brown-200"] = "#E1C8AA",
	["brown-400"] = "#CBA479",
	["brown-500"] = "#B17143",

	-- Blacks
	black0 = "#0d0c0c",
	black1 = "#12120f",
	black2 = "#1D1C19",
	black3 = "#181616",
	black4 = "#282727",
	black5 = "#393836",
	black6 = "#625e5a",

	green_1 = "#91a874",
	darkGreen = "#78906e",
	darkGreen_1 = "#798d71",
	darkBlue = "#879fcf",
	darkBlue1 = "#223249",
	violet = "#9685b2",
	pink1 = "#ca869c",
	red_1 = "#de696d",
	yellow = "#e0cd8f",
	darkYellow = "#d0a46d",
	orange = "#f0a475",
	darkOrange = "#db8e3f",
	teal = "#7fa39c",
	darkTeal = "#6a838f",

	-- Diag
	samuraiRed = "#E82424",
	roninYellow = "#FF9E3B",
	waveAqua1 = "#6A9589",
	dragonBlue = "#658594",

	-- Fg and Comments
	-- oldWhite = "#C8C093",
	oldWhite = "#B8B093",
	oldWhite2 = "#C7C0AD",
	white = "#D2CCC0",
	white2 = "#AEADAF",
	white3 = "#9E9D9F",
	gray = "#72716F",
	gray2 = "#62615F",
	gray3 = "#5D5C59",
	lightGray = "#9a9b9b",

	sakuraPink = "#ca869c",
	waveRed = "#E46876",
	peachRed = "#FF5D62",
	surimiOrange = "#FFA066",
	katanaGray = "#717C7C",

	-- \ 'fg0':              ['#d4be98',   '223'],
	-- \ 'fg1':              ['#ddc7a1',   '223'],
	-- \ 'red':              ['#ea6962',   '167'],
	-- \ 'orange':           ['#e78a4e',   '208'],
	-- \ 'yellow':           ['#d8a657',   '214'],
	-- \ 'green':            ['#a9b665',   '142'],
	-- \ 'aqua':             ['#89b482',   '108'],
	-- \ 'blue':             ['#7daea3',   '109'],
	-- \ 'purple':           ['#d3869b',   '175'],
	-- \ 'bg_red':           ['#ea6962',   '167'],
	-- \ 'bg_green':         ['#a9b665',   '142'],
	-- \ 'bg_yellow':        ['#d8a657',   '214']
}

local M = {}
--- Generate colors table:
--- * opts:
---   - colors: Table of personalized colors and/or overrides of existing ones.
---     Defaults to KanagawaConfig.colors.
---@param opts? { colors?: table }
---@return { theme: ThemeColors, palette: PaletteColors}
function M.setup(opts)
	opts = opts or {}
	local override_colors = opts.colors or require("chia.config").options.colors

	-- Add to and/or override palette_colors
	local updated_palette_colors = vim.tbl_extend("force", palette, override_colors.palette or {})

	-- Generate the theme according to the updated palette colors
	local theme_colors = require("chia.themes")(updated_palette_colors)

	-- Add to and/or override theme_colors
	local updated_theme_colors = vim.tbl_deep_extend("force", theme_colors, override_colors.theme or {})

	-- return palette_colors AND theme_colors
	return {
		theme = updated_theme_colors,
		palette = updated_palette_colors,
	}
end

return M
